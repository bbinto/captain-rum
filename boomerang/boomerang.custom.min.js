BOOMR_start=(new Date).getTime();
(function(b){b.parent!==b&&(document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase())&&(b=b.parent);var e,a,c,d=b.document;void 0===b.BOOMR&&(b.BOOMR={});BOOMR=b.BOOMR;if(!BOOMR.version){BOOMR.version="0.9.1361953770";BOOMR.window=b;e={beacon_url:"",site_domain:b.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],
before_beacon:[],click:[]},vars:{},disabled_plugins:{},onclick_handler:function(a){var c;a||(a=b.event);a.target?c=a.target:a.srcElement&&(c=a.srcElement);3===c.nodeType&&(c=c.parentNode);(!c||!("OBJECT"===c.nodeName.toUpperCase()&&"application/x-shockwave-flash"===c.type))&&e.fireEvent("click",c)},fireEvent:function(a,c){var d,b,e;if(!this.events.hasOwnProperty(a))return!1;e=this.events[a];for(d=0;d<e.length;d++)b=e[d],b[0].call(b[2],c,b[1]);return!0},addListener:function(a,c,d){a.addEventListener?
a.addEventListener(c,d,!1):a.attachEvent&&a.attachEvent("on"+c,d)}};a={t_start:BOOMR_start,t_end:null,utils:{objectToString:function(a,c){var d=[],b;if(!a||"object"!==typeof a)return a;void 0===c&&(c="\n\t");for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&d.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return d.join(c)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var c,b;b=" "+d.cookie+";";return 0<=(c=b.indexOf(a))?(c+=a.length,b=b.substring(c,b.indexOf(";",c))):null},setCookie:function(a,
c,b){var h,k,l;if(!a||!e.site_domain)return!1;c=this.objectToString(c,"&");h=a+"="+c;k=[h,"path=/","domain="+e.site_domain];b&&(l=new Date,l.setTime(l.getTime()+1E3*b),l=l.toGMTString(),k.push("expires="+l));return 4E3>h.length?(d.cookie=k.join("; "),c===this.getCookie(a)):!1},getSubCookies:function(a){var c,d,b,e={};if(!a)return null;a=a.split("&");if(0===a.length)return null;c=0;for(d=a.length;c<d;c++)b=a[c].split("="),b.push(""),e[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);return e},removeCookie:function(a){return this.setCookie(a,
{},0)},pluginConfig:function(a,c,d,b){var e,h=0;if(!c||!c[d])return!1;for(e=0;e<b.length;e++)void 0!==c[d][b[e]]&&(a[b[e]]=c[d][b[e]],h++);return 0<h}},init:function(a){var c,f,h=["beacon_url","site_domain","user_ip"];a||(a={});for(c=0;c<h.length;c++)void 0!==a[h[c]]&&(e[h[c]]=a[h[c]]);void 0!==a.log&&(this.log=a.log);this.log||(this.log=function(){});for(f in this.plugins)this.plugins.hasOwnProperty(f)&&(a[f]&&a[f].hasOwnProperty("enabled")&&!1===a[f].enabled?e.disabled_plugins[f]=1:(e.disabled_plugins[f]&&
delete e.disabled_plugins[f],"function"===typeof this.plugins[f].init&&this.plugins[f].init(a)));if(e.handlers_attached)return this;if(!e.onloadfired&&(void 0===a.autorun||!1!==a.autorun))d.readyState&&"complete"===d.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):b.onpagehide||null===b.onpagehide?e.addListener(b,"pageshow",BOOMR.page_ready):e.addListener(b,"load",BOOMR.page_ready);e.addListener(b,"DOMContentLoaded",function(){e.fireEvent("dom_loaded")});a=function(){e.fireEvent("visibility_changed")};
d.webkitVisibilityState?e.addListener(d,"webkitvisibilitychange",a):d.msVisibilityState?e.addListener(d,"msvisibilitychange",a):d.visibilityState&&e.addListener(d,"visibilitychange",a);e.addListener(d,"mouseup",e.onclick_handler);!b.onpagehide&&null!==b.onpagehide&&e.addListener(b,"unload",function(){BOOMR.window=b=null});e.handlers_attached=!0;return this},page_ready:function(){if(e.onloadfired)return this;e.fireEvent("page_ready");e.onloadfired=!0;return this},setImmediate:function(a,c,d,e){var h=
function(){a.call(e||null,c,d||{});h=null};b.setImmediate?b.setImmediate(h):b.msSetImmediate?b.msSetImmediate(h):b.webkitSetImmediate?b.webkitSetImmediate(h):b.mozSetImmediate?b.mozSetImmediate(h):setTimeout(h,10)},subscribe:function(a,c,d,h){var k,l,n;if(!e.events.hasOwnProperty(a))return this;n=e.events[a];for(k=0;k<n.length;k++)if(l=n[k],l[0]===c&&l[1]===d&&l[2]===h)return this;n.push([c,d||{},h||null]);"page_ready"===a&&e.onloadfired&&this.setImmediate(c,null,d,h);"page_unload"===a&&(a=function(a){c&&
c.call(h,a||b.event,d)},b.onpagehide||null===b.onpagehide?e.addListener(b,"pagehide",a):e.addListener(b,"unload",a),e.addListener(b,"beforeunload",a));return this},addVar:function(a,c){if("string"===typeof a)e.vars[a]=c;else if("object"===typeof a)for(var d in a)a.hasOwnProperty(d)&&(e.vars[d]=a[d]);return this},removeVar:function(a){var c,d;if(!arguments.length)return this;d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments;for(c=0;c<d.length;c++)e.vars.hasOwnProperty(d[c])&&
delete e.vars[d[c]];return this},sendBeacon:function(){var a,c,h=0;for(a in this.plugins)if(this.plugins.hasOwnProperty(a)&&!e.disabled_plugins[a]&&!this.plugins[a].is_complete())return this;e.vars.v=BOOMR.version;e.vars.u=d.URL.replace(/#.*/,"");b!==window&&(e.vars["if"]="");e.fireEvent("before_beacon",e.vars);if(!e.beacon_url)return this;c=[];for(a in e.vars)e.vars.hasOwnProperty(a)&&(h++,c.push(encodeURIComponent(a)+"="+(void 0===e.vars[a]||null===e.vars[a]?"":encodeURIComponent(e.vars[a]))));
c=e.beacon_url+(-1<e.beacon_url.indexOf("?")?"&":"?")+c.join("&");BOOMR.debug("Sending url: "+c.replace(/&/g,"\n\t"));h&&(a=new Image,a.src=c);return this}};delete BOOMR_start;var h=function(a){return function(c,d){this.log(c,a,"boomerang"+(d?"."+d:""));return this}};a.debug=h("debug");a.info=h("info");a.warn=h("warn");a.error=h("error");b.YAHOO&&b.YAHOO.widget&&b.YAHOO.widget.Logger?a.log=b.YAHOO.log:b.Y&&b.Y.log?a.log=b.Y.log:"object"===typeof console&&void 0!==console.log&&(a.log=function(a,c,
d){console.log(d+": ["+c+"] "+a)});for(c in a)a.hasOwnProperty(c)&&(BOOMR[c]=a[c]);BOOMR.plugins=BOOMR.plugins||{}}})(window);
(function(){var b,e;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};e=[{name:"image-0.png",size:11483,timeout:1400},{name:"image-1.png",size:40658,timeout:1200},{name:"image-2.png",size:164897,timeout:1300},{name:"image-3.png",size:381756,timeout:1500},{name:"image-4.png",size:1234664,timeout:1200},{name:"image-5.png",size:4509613,timeout:1200},{name:"image-6.png",size:9084559,timeout:1200}];e.end=e.length;e.start=0;e.l={name:"image-l.gif",size:35,timeout:1E3};b={base_url:"",timeout:15E3,nruns:5,
latency_runs:10,user_ip:"",cookie_exp:604800,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:!1,complete:!0,running:!1,initialized:!1,ncmp:function(a,c){return a-c},iqr:function(a){var c=a.length-1,d,b,e,g=[],f;d=(a[Math.floor(0.25*c)]+a[Math.ceil(0.25*c)])/2;b=(a[Math.floor(0.75*c)]+a[Math.ceil(0.75*c)])/2;e=1.5*(b-d);c++;for(f=0;f<c&&a[f]<b+e;f++)a[f]>d-e&&g.push(a[f]);return g},calc_latency:function(){var a,c,d=0,b=0,e;e=this.iqr(this.latencies.sort(this.ncmp));c=e.length;
BOOMR.debug(e,"bw");for(a=1;a<c;a++)d+=e[a],b+=e[a]*e[a];c--;a=Math.round(d/c);d=Math.sqrt(b/c-d*d/(c*c));b=(1.96*d/Math.sqrt(c)).toFixed(2);d=d.toFixed(2);c=e.length-1;c=Math.round((e[Math.floor(c/2)]+e[Math.ceil(c/2)])/2);return{mean:a,median:c,stddev:d,stderr:b}},calc_bw:function(){var a,c,d=0,b,j=[],g=[],f=0,m=0,k=0,l=0,n,p,q=[];for(a=0;a<this.nruns;a++)if(this.results[a]&&this.results[a].r){b=this.results[a].r;n=0;for(c=b.length-1;0<=c&&3>n&&b[c];c--)null!==b[c].t&&(d++,n++,p=1E3*e[c].size/b[c].t,
j.push(p),p=1E3*e[c].size/(b[c].t-this.latency.mean),g.push(p),b[c].t<this.latency.mean&&q.push(c+"_"+b[c].t))}BOOMR.debug("got "+d+" readings","bw");BOOMR.debug("bandwidths: "+j,"bw");BOOMR.debug("corrected: "+g,"bw");3<j.length?(j=this.iqr(j.sort(this.ncmp)),g=this.iqr(g.sort(this.ncmp))):(j=j.sort(this.ncmp),g=g.sort(this.ncmp));BOOMR.debug("after iqr: "+j,"bw");BOOMR.debug("corrected: "+g,"bw");d=Math.max(j.length,g.length);for(a=0;a<d;a++)a<j.length&&(f+=j[a],m+=Math.pow(j[a],2)),a<g.length&&
(k+=g[a],l+=Math.pow(g[a],2));d=j.length;a=Math.round(f/d);f=Math.sqrt(m/d-Math.pow(f/d,2));m=Math.round(1.96*f/Math.sqrt(d));f=Math.round(f);d=j.length-1;j=Math.round((j[Math.floor(d/2)]+j[Math.ceil(d/2)])/2);d=g.length;c=Math.round(k/d);k=Math.sqrt(l/d-Math.pow(k/d,2));l=(1.96*k/Math.sqrt(d)).toFixed(2);k=k.toFixed(2);d=g.length-1;d=Math.round((g[Math.floor(d/2)]+g[Math.ceil(d/2)])/2);BOOMR.debug("amean: "+a+", median: "+j,"bw");BOOMR.debug("corrected amean: "+c+", median: "+d,"bw");return{mean:a,
stddev:f,stderr:m,median:j,mean_corrected:c,stddev_corrected:k,stderr_corrected:l,median_corrected:d,debug_info:q}},defer:function(a){var c=this;return setTimeout(function(){a.call(c);c=null},10)},load_img:function(a,c,d){var b=this.base_url+e[a].name+"?t="+(new Date).getTime()+Math.random(),j=0,g=0,f=new Image,m=this;f.onload=function(){f=f.onload=f.onerror=null;clearTimeout(j);d&&d.call(m,a,g,c,!0);m=d=null};f.onerror=function(){f=f.onload=f.onerror=null;clearTimeout(j);d&&d.call(m,a,g,c,!1);m=
d=null};j=setTimeout(function(){d&&d.call(m,a,g,c,null)},e[a].timeout+Math.min(400,this.latency?this.latency.mean:400));g=(new Date).getTime();f.src=b},lat_loaded:function(a,c,d,b){d===this.latency_runs+1&&(null!==b&&(a=(new Date).getTime()-c,this.latencies.push(a)),0===this.latency_runs&&(this.latency=this.calc_latency()),this.defer(this.iterate))},img_loaded:function(a,c,d,b){d===this.runs_left+1&&!this.results[this.nruns-d].r[a]&&(null===b?this.results[this.nruns-d].r[a+1]={t:null,state:null,run:d}:
(c={start:c,end:(new Date).getTime(),t:null,state:b,run:d},b&&(c.t=c.end-c.start),this.results[this.nruns-d].r[a]=c,a>=e.end-1||void 0!==this.results[this.nruns-d].r[a+1]?(BOOMR.debug(this.results[this.nruns-d],"bw"),d===this.nruns&&(e.start=a),this.defer(this.iterate)):this.load_img(a+1,d,this.img_loaded)))},finish:function(){this.latency||(this.latency=this.calc_latency());var a=this.calc_bw(),c={bw:a.median_corrected,bw_err:parseFloat(a.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,
10),bw_time:Math.round((new Date).getTime()/1E3)};BOOMR.addVar(c);0<a.debug_info.length&&BOOMR.addVar("bw_debug",a.debug_info.join(","));!isNaN(c.bw)&&0<c.bw&&BOOMR.utils.setCookie(this.cookie,{ba:Math.round(c.bw),be:c.bw_err,l:c.lat,le:c.lat_err,ip:this.user_ip,t:c.bw_time},this.user_ip?this.cookie_exp:0);this.complete=!0;BOOMR.sendBeacon();this.running=!1},iterate:function(){if(this.aborted)return!1;this.runs_left?this.latency_runs?this.load_img("l",this.latency_runs--,this.lat_loaded):(this.results.push({r:[]}),
this.load_img(e.start,this.runs_left--,this.img_loaded)):this.finish()},setVarsFromCookie:function(a){var c=parseInt(a.ba,10),d=parseFloat(a.be,10),b=parseInt(a.l,10)||0,e=parseFloat(a.le,10)||0,g=a.ip.replace(/\.\d+$/,"0");a=parseInt(a.t,10);var f=this.user_ip.replace(/\.\d+$/,"0"),m=Math.round((new Date).getTime()/1E3);return g===f&&a>=m-this.cookie_exp&&0<c?(this.complete=!0,BOOMR.addVar({bw:c,lat:b,bw_err:d,lat_err:e}),!0):!1}};BOOMR.plugins.BW={init:function(a){if(b.initialized)return this;BOOMR.utils.pluginConfig(b,
a,"BW",["base_url","timeout","nruns","cookie","cookie_exp"]);a&&a.user_ip&&(b.user_ip=a.user_ip);if(!b.base_url)return this;e.start=0;b.runs_left=b.nruns;b.latency_runs=10;b.results=[];b.latencies=[];b.latency=null;b.complete=!1;b.aborted=!1;BOOMR.removeVar("ba","ba_err","lat","lat_err");a=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(b.cookie));if(!a||!a.ba||!b.setVarsFromCookie(a))BOOMR.subscribe("page_ready",this.run,null,this),BOOMR.subscribe("page_unload",this.skip,null,this);b.initialized=
!0;return this},run:function(){if(b.running||b.complete)return this;if("https:"===BOOMR.window.location.protocol)return BOOMR.info("HTTPS detected, skipping bandwidth test","bw"),b.complete=!0,BOOMR.sendBeacon(),this;b.running=!0;setTimeout(this.abort,b.timeout);b.defer(b.iterate);return this},abort:function(){b.aborted=!0;b.running&&b.finish();return this},skip:function(){b.complete||(b.complete=!0,BOOMR.sendBeacon());return this},is_complete:function(){return b.complete}}})();
(function(b){var e=b.document,a;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};a={initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,setCookie:function(a,d){var b,j=(new Date).getTime();if(!this.cookie)return this;b=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};a&&(b[a]=j);b.r=e.URL.replace(/#.*/,"");"cl"===a&&(d?b.nu=d:b.nu&&delete b.nu);
!1===d&&delete b.nu;BOOMR.debug("Setting cookie "+BOOMR.utils.objectToString(b),"rt");if(!BOOMR.utils.setCookie(this.cookie,b,this.cookie_exp))return BOOMR.error("cannot set start cookie","rt"),this;b=(new Date).getTime();50<b-j&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+j+" -> "+b,"rt"));return this},initFromCookie:function(){var a;if(this.cookie&&(a=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))))a.s=Math.max(+a.ul||0,+a.cl||
0),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(a),"rt"),a.s&&a.r&&(this.r=a.r,!this.strict_referrer||this.r===this.r2||a.s===+a.cl&&a.nu===e.URL.replace(/#.*/,"")?(this.t_start=a.s,+a.hd>a.s&&(this.t_fb_approx=parseInt(a.hd,10))):this.t_start=this.t_fb_approx=void 0)},checkPreRender:function(){if(!(e.webkitVisibilityState&&"prerender"===e.webkitVisibilityState)&&!(e.msVisibilityState&&3===e.msVisibilityState))return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");
BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,null,BOOMR.plugins.RT);return!0},initNavTiming:function(){var a,d,e;if(!this.navigationStart){if((d=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance)&&d.navigation)this.navigationType=d.navigation.type;d&&d.timing?a=d.timing:b.chrome&&b.chrome.csi&&b.chrome.csi().startE?(a={navigationStart:b.chrome.csi().startE},
e="csi"):b.gtbExternal&&b.gtbExternal.startE()&&(a={navigationStart:b.gtbExternal.startE()},e="gtb");a?(BOOMR.addVar("rt.start",e||"navigation"),this.navigationStart=a.navigationStart||a.fetchStart||void 0,this.responseStart=a.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=a.unloadEventStart||a.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt")}},page_unload:function(a){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(a),
"rt");this.setCookie("beforeunload"===a.type?"ul":"hd")},onclick:function(a){if(a){for(BOOMR.debug("Click called with "+a.nodeName,"rt");a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;a&&"A"===a.nodeName.toUpperCase()&&(BOOMR.debug("passing through","rt"),this.setCookie("cl",a.href))}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(c){BOOMR.debug("init RT","rt");b!==BOOMR.window&&(b=BOOMR.window,e=b.document);BOOMR.utils.pluginConfig(a,c,"RT",["cookie",
"cookie_exp","strict_referrer"]);a.initFromCookie();if(a.initialized)return this;a.complete=!1;a.timers={};BOOMR.subscribe("page_ready",this.done,null,this);BOOMR.subscribe("dom_loaded",a.domloaded,null,a);BOOMR.subscribe("page_unload",a.page_unload,null,a);BOOMR.subscribe("click",a.onclick,null,a);BOOMR.t_start&&(this.startTimer("boomerang",BOOMR.t_start),this.endTimer("boomerang",BOOMR.t_end),this.endTimer("boomr_fb",BOOMR.t_start));a.r=a.r2=e.referrer.replace(/#.*/,"");a.initialized=!0;return this},
startTimer:function(c,b){c&&("t_page"===c&&this.endTimer("t_resp",b),a.timers[c]={start:"number"===typeof b?b:(new Date).getTime()},a.complete=!1);return this},endTimer:function(c,b){c&&(a.timers[c]=a.timers[c]||{},void 0===a.timers[c].end&&(a.timers[c].end="number"===typeof b?b:(new Date).getTime()));return this},setTimer:function(b,d){b&&(a.timers[b]={delta:d});return this},done:function(){BOOMR.debug("Called done","rt");var b,d=(new Date).getTime(),e={t_done:1,t_resp:1,t_page:1},j=0,g,f=[];a.complete=
!1;a.initFromCookie();a.initNavTiming();if(a.checkPreRender())return this;a.responseStart?(this.endTimer("t_resp",a.responseStart),a.timers.t_load?this.setTimer("t_page",a.timers.t_load.end-a.responseStart):this.setTimer("t_page",d-a.responseStart)):a.timers.hasOwnProperty("t_page")?this.endTimer("t_page"):a.t_fb_approx&&(this.endTimer("t_resp",a.t_fb_approx),this.setTimer("t_page",d-a.t_fb_approx));a.timers.hasOwnProperty("t_postrender")&&(this.endTimer("t_postrender"),this.endTimer("t_prerender"));
a.navigationStart?b=a.navigationStart:a.t_start&&2!==a.navigationType?(b=a.t_start,BOOMR.addVar("rt.start","cookie")):(BOOMR.addVar("rt.start","none"),b=void 0);this.endTimer("t_done",d);BOOMR.removeVar("t_done","t_page","t_resp","r","r2","rt.tstart","rt.bstart","rt.end","t_postrender","t_prerender","t_load");BOOMR.addVar("rt.tstart",b);BOOMR.addVar("rt.bstart",BOOMR.t_start);BOOMR.addVar("rt.end",a.timers.t_done.end);for(g in a.timers)a.timers.hasOwnProperty(g)&&(d=a.timers[g],"number"!==typeof d.delta&&
("number"!==typeof d.start&&(d.start=b),d.delta=d.end-d.start),isNaN(d.delta)||(e.hasOwnProperty(g)?BOOMR.addVar(g,d.delta):f.push(g+"|"+d.delta),j++));j&&(BOOMR.addVar("r",a.r),a.r2!==a.r&&BOOMR.addVar("r2",a.r2),f.length&&BOOMR.addVar("t_other",f.join(",")));a.timers={};a.complete=!0;BOOMR.sendBeacon();return this},is_complete:function(){return a.complete}}})(window);BOOMR.t_end=(new Date).getTime();